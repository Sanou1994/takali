(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[73],{651:function(e,t,s){"use strict";t.a={type_tournoi:{TOURNOI_INTER_ECOLE:"TOURNOI_INTER_ECOLE",TOURNOI_INTER_ENTREPRISE:"TOURNOI_INTER_ENTREPRISE"},url:"http://o-terrain.com/"}},687:function(e,t,s){"use strict";function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var s=0,a=new Array(t);s<t;s++)a[s]=e[s];return a}function r(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"===typeof e)return a(e,t);var s=Object.prototype.toString.call(e).slice(8,-1);return"Object"===s&&e.constructor&&(s=e.constructor.name),"Map"===s||"Set"===s?Array.from(e):"Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?a(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}s.d(t,"a",(function(){return r}))},767:function(e,t,s){"use strict";var a=s(11),r=s(26),n=s(1),c=s.n(n),i=s(107),o=s.n(i),l=s(157),d=s.n(l),u=s(644),b={tag:u.n,inverse:o.a.bool,color:o.a.string,body:o.a.bool,outline:o.a.bool,className:o.a.string,cssModule:o.a.object,innerRef:o.a.oneOfType([o.a.object,o.a.string,o.a.func])},j=function(e){var t=e.className,s=e.cssModule,n=e.color,i=e.body,o=e.inverse,l=e.outline,b=e.tag,j=e.innerRef,m=Object(r.a)(e,["className","cssModule","color","body","inverse","outline","tag","innerRef"]),h=Object(u.j)(d()(t,"card",!!o&&"text-white",!!i&&"card-body",!!n&&(l?"border":"bg")+"-"+n),s);return c.a.createElement(b,Object(a.a)({},m,{className:h,ref:j}))};j.propTypes=b,j.defaultProps={tag:"div"},t.a=j},768:function(e,t,s){"use strict";var a=s(11),r=s(26),n=s(1),c=s.n(n),i=s(107),o=s.n(i),l=s(157),d=s.n(l),u=s(644),b={tag:u.n,className:o.a.string,cssModule:o.a.object,innerRef:o.a.oneOfType([o.a.object,o.a.string,o.a.func])},j=function(e){var t=e.className,s=e.cssModule,n=e.innerRef,i=e.tag,o=Object(r.a)(e,["className","cssModule","innerRef","tag"]),l=Object(u.j)(d()(t,"card-body"),s);return c.a.createElement(i,Object(a.a)({},o,{className:l,ref:n}))};j.propTypes=b,j.defaultProps={tag:"div"},t.a=j},832:function(e,t,s){"use strict";s.r(t);var a=s(687),r=s(159),n=s(160),c=s(165),i=s(162),o=s(161),l=s(1),d=s.n(l),u=s(994),b=s(901),j=s(801),m=s(818),h=s(819),p=s(767),f=s(768),O=s(820),g=s(651),x=s(926),N=s(21),y=s(2),v=function(e){Object(i.a)(s,e);var t=Object(o.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).handleSupprimer=function(){var e={method:"GET",headers:{Authorization:"Bearer "+JSON.parse(localStorage.getItem("token_auth")).token}};fetch(g.a.url+"user/users/delete/"+a.state.id,e).then((function(e){console.log("enregitre avec succes vrai:",e),console.log("data send",e),a.setState({users:a.state.users.filter((function(e){return e.id!=a.state.id}))}),a.setState({show:!1})}))},a.handleDetail=function(e){localStorage.setItem("idUser",e),a.setState({ok:Object(y.jsx)(N.a,{to:"/detail-compte"})})},a.toggled=function(){a.setState({show:!a.state.show})},a.supprimer=function(e){a.setState({id:e,show:!0})},a.handleModifier=function(e){localStorage.setItem("idUser",e),a.setState({ok:Object(y.jsx)(N.a,{to:"/modifier-compte"})})},a.state={users:[],userData:[],id:0,show:!1,ok:"",page:Object(y.jsx)("div",{style:{marginTop:"25%",marginBottom:"20%",textAlign:"center"},children:Object(y.jsx)(b.a,{type:"grow",color:"success"})}),status:!0},a.handleDetail.bind(Object(c.a)(a)),a.supprimer.bind(Object(c.a)(a)),a.handleModifier.bind(Object(c.a)(a)),a}return Object(n.a)(s,[{key:"componentDidMount",value:function(){var e=this,t={method:"GET",headers:{Authorization:"Bearer "+JSON.parse(localStorage.getItem("token_auth")).token}};fetch(g.a.url+"user/users",t).then((function(e){return e.json()})).then((function(t){console.log("data",t),e.setState({status:!1});try{t.length?(e.setState({userData:t}),t.map((function(t,s){var r={id:t.id,nom:t.username,prenom:t.prenom,adresse:t.adresse,email:t.email,telephone:t.telephone,role:t.roles.libelle,action:Object(y.jsxs)("a",{children:[Object(y.jsx)("i",{style:{cursor:"pointer"},onClick:e.handleModifier.bind(e,t.id),className:"bx bx-pencil bx-sm text-primary mr-2"}),Object(y.jsx)("i",{style:{cursor:"pointer"},onClick:e.handleDetail.bind(e,t.id),className:"bx bx-info-circle bx-sm text-primary mr-2"}),Object(y.jsx)("i",{style:{cursor:"pointer"},onClick:e.supprimer.bind(e,t.id),className:"bx bx-trash  bx-sm text-danger "})]})};e.setState({users:[].concat(Object(a.a)(e.state.users),[r])})}))):e.setState({users:[]})}catch(s){e.setState({users:[]})}}))}},{key:"render",value:function(){var e={columns:[{label:"Nom",field:"nom",sort:"asc",width:150},{label:"Pr\xe9nom",field:"prenom",sort:"asc",width:270},{label:"Adresse",field:"adresse",sort:"asc",width:100},{label:"Email",field:"email",sort:"asc",width:100},{label:"T\xe9lephone",field:"telephone",sort:"asc",width:100},{label:"R\xf4le",field:"role",sort:"asc",width:100},{label:"Action",field:"action",sort:"asc",width:100}],rows:this.state.users},t={columns:[{label:"R\xf4le",field:"role",sort:"asc",width:150},{label:"Action",field:"action",sort:"asc",width:100}],rows:this.state.role};return Object(y.jsx)(d.a.Fragment,{children:Object(y.jsxs)("div",{className:"page-content",children:[this.state.ok,Object(y.jsx)(x.a,{show:this.state.show,handleValider:this.handleSupprimer,toggle:this.toggled}),Object(y.jsx)(j.a,{fluid:!0,children:this.state.status?Object(y.jsx)(y.Fragment,{children:this.state.page}):Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(m.a,{children:Object(y.jsx)(h.a,{md:"12",className:"pull-right",children:Object(y.jsx)(p.a,{children:Object(y.jsxs)(f.a,{children:[Object(y.jsxs)(m.a,{ClassName:"mb-4",children:[Object(y.jsx)(h.a,{md:"8",children:Object(y.jsx)("div",{className:"page-title-box d-flex align-items-center justify-content-between",children:Object(y.jsx)("h1",{className:"mb-0 font-size-18",children:"Liste des comptes"})})}),Object(y.jsx)(h.a,{md:"4",className:"pull-right",children:Object(y.jsxs)(O.a,{color:"success",className:"font-16 btn btn-success float-right",href:"/#/ajout-compte",children:[Object(y.jsx)("i",{class:"bx bx-plus-circle",children:" "}),"  Cr\xe9er un nouveau compte"]})})]}),Object(y.jsx)("hr",{}),Object(y.jsx)(m.a,{ClassName:"mt-5",children:Object(y.jsx)(h.a,{md:"12",children:Object(y.jsx)(u.c,{responsive:!0,striped:!0,bordered:!0,data:e})})})]})})})}),Object(y.jsx)(m.a,{className:"mt-3",children:Object(y.jsx)(h.a,{md:"12",className:"pull-right",children:Object(y.jsx)(p.a,{children:Object(y.jsxs)(f.a,{children:[Object(y.jsxs)(m.a,{ClassName:"mb-4",children:[Object(y.jsx)(h.a,{md:"8",children:Object(y.jsx)("div",{className:"page-title-box d-flex align-items-center justify-content-between",children:Object(y.jsx)("h1",{className:"mb-0 font-size-18",children:"Liste des r\xf4les"})})}),Object(y.jsx)(h.a,{md:"4",className:"pull-right",children:Object(y.jsxs)(O.a,{color:"success",className:"font-16 btn btn-success float-right",href:"/#/ajout-role",children:[Object(y.jsx)("i",{class:"bx bx-plus-circle",children:" "}),"  Ajouter un nouveau r\xf4le"]})})]}),Object(y.jsx)("hr",{}),Object(y.jsx)(m.a,{ClassName:"mt-5",children:Object(y.jsx)(h.a,{md:"12",children:Object(y.jsx)(u.c,{responsive:!0,striped:!0,bordered:!0,data:t})})})]})})})})]})})]})})}}]),s}(l.Component);t.default=v},901:function(e,t,s){"use strict";var a=s(11),r=s(26),n=s(1),c=s.n(n),i=s(107),o=s.n(i),l=s(157),d=s.n(l),u=s(644),b={tag:u.n,type:o.a.string,size:o.a.string,color:o.a.string,className:o.a.string,cssModule:o.a.object,children:o.a.string},j=function(e){var t=e.className,s=e.cssModule,n=e.type,i=e.size,o=e.color,l=e.children,b=e.tag,j=Object(r.a)(e,["className","cssModule","type","size","color","children","tag"]),m=Object(u.j)(d()(t,!!i&&"spinner-"+n+"-"+i,"spinner-"+n,!!o&&"text-"+o),s);return c.a.createElement(b,Object(a.a)({role:"status"},j,{className:m}),l&&c.a.createElement("span",{className:Object(u.j)("sr-only",s)},l))};j.propTypes=b,j.defaultProps={tag:"div",type:"border",children:"Loading..."},t.a=j},926:function(e,t,s){"use strict";var a=s(803),r=s(1121),n=s(11),c=s(26),i=s(1),o=s.n(i),l=s(107),d=s.n(l),u=s(157),b=s.n(u),j=s(644),m={tag:j.n,className:d.a.string,cssModule:d.a.object},h=function(e){var t=e.className,s=e.cssModule,a=e.tag,r=Object(c.a)(e,["className","cssModule","tag"]),i=Object(j.j)(b()(t,"modal-footer"),s);return o.a.createElement(a,Object(n.a)({},r,{className:i}))};h.propTypes=m,h.defaultProps={tag:"div"};var p=h,f=s(820),O=(s(653),s(2));t.a=function(e){var t=e.handleValider,s=e.show,n=e.toggle;return Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)(a.a,{isOpen:s,toggle:n,children:[Object(O.jsx)(r.a,{style:{textAlign:"center"},children:Object(O.jsx)("h4",{children:"Voulez-vous vraiment Supprimer ?"})}),Object(O.jsxs)(p,{children:[Object(O.jsx)(f.a,{color:"danger",onClick:t,children:"Supprimer"})," ",Object(O.jsx)(f.a,{color:"secondary",onClick:n,children:"Annuler"})]})]})})}}}]);
//# sourceMappingURL=73.fd79c800.chunk.js.map