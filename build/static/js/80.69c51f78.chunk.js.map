{"version":3,"sources":["views/pages/messages/PaiementReussi.js","conf.js","assets/ot.png"],"names":["PaiementReussi","props","state","ok","data","JSON","parse","localStorage","getItem","id","requestOptions","method","headers","token","body","stringify","status","console","log","fetch","conf","url","then","response","json","removeItem","error","idTrans","idEquipe","paye","className","class","src","logo","alt","width","height","href","Component","type_tournoi","TOURNOI_INTER_ECOLE","TOURNOI_INTER_ENTREPRISE"],"mappings":"8TA6BMA,E,kDAEJ,WAAYC,GAAQ,IAAD,8BACjB,cAAMA,IACDC,MAAQ,CACVC,GAAG,IAHW,E,qDAQnB,WACE,IAAKC,EAAOC,KAAKC,MAAMC,aAAaC,QAAQ,eAE5C,IACA,IAAIC,EAAGF,aAAaC,QAAQ,yBACtBE,EAAiB,CACrBC,OAAQ,OACRC,QAAS,CAAE,eAAgB,mBAAmB,OAAU,mBACtD,cAAgB,UAAUR,EAAKS,OAGjCC,KAAMT,KAAKU,UAAU,CAACN,GAAGA,EAAGO,OAAO,UAErCC,QAAQC,IAAI,aAAaR,EAAeI,MACrCL,GAGHU,MAAMC,IAAKC,IAAI,4BAA4BX,GAC1CY,MAAK,SAACC,GAAD,OAAcA,EAASC,UAC5BF,MAAK,SAAClB,GACLa,QAAQC,IAAI,wBAAwBd,GACpCG,aAAakB,WAAW,gBACxBlB,aAAakB,WAAW,yBACxBlB,aAAakB,WAAW,4BAKzB,MAAMC,IAIP,IACE,IAAIC,EAAQpB,aAAaC,QAAQ,yBAC3BE,EAAiB,CACrBC,OAAQ,OACRC,QAAS,CACP,cAAgB,UAAUR,EAAKS,OAGjCC,KAAMT,KAAKU,UAAU,CAACN,GAAGkB,EAAQX,OAAO,UAGvCW,GAGHR,MAAMC,IAAKC,IAAI,qBAAqBX,GACnCY,MAAK,SAACC,GAAD,OAAcA,EAASC,UAC5BF,MAAK,SAAClB,GACLa,QAAQC,IAAI,wBAAwBd,GACpCG,aAAakB,WAAW,gBACxBlB,aAAakB,WAAW,yBACxBlB,aAAakB,WAAW,4BAKzB,MAAMC,IAIP,IACE,IAAIE,EAASrB,aAAaC,QAAQ,gBAC5BE,EAAiB,CACrBC,OAAQ,OACRC,QAAS,CACP,cAAgB,UAAUR,EAAKS,OAGjCC,KAAMT,KAAKU,UAAU,CAACN,GAAGmB,EAASC,MAAK,KAGtCD,GACHT,MAAMC,IAAKC,IAAI,qBAAqBX,GACnCY,MAAK,SAACC,GAAD,OAAcA,EAASC,UAC5BF,MAAK,SAAClB,GACLa,QAAQC,IAAI,mBAAmBd,GAC/BG,aAAakB,WAAW,gBACxBlB,aAAakB,WAAW,yBACxBlB,aAAakB,WAAW,4BAKzB,MAAMC,O,oBAOb,WACE,OACE,mCACE,qBAAKI,UAAU,qDAAf,SACE,qBAAKC,MAAM,YAAX,SACE,qBAAKA,MAAM,MAAX,SACE,qBAAKA,MAAM,wBAAX,SACE,sBAAKA,MAAM,UAAX,UACE,qBAAKA,MAAM,6BAAX,SAIE,qBAAKC,IAAKC,IAAMC,IAAI,GAAGC,MAAM,MAAMC,OAAO,UAE5C,sBAAKL,MAAM,UAAX,UACE,sDACA,yGACA,mBAAGM,KAAK,sBAAR,uD,GAtHSC,aAkIdtC,a,iCChJAoB,IAdF,CACXmB,aAAa,CACXC,oBAAqB,sBACrBC,yBAA0B,4BAI5BpB,IAAI,2B,iCCRS,QAA0B","file":"static/js/80.69c51f78.chunk.js","sourcesContent":["import React, { Component }  from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport {\r\n  CButton,\r\n  CCard,\r\n  CCardBody,\r\n  CCardGroup,\r\n  CCol,\r\n  CContainer,\r\n  CForm,\r\n  CInput,\r\n  CInputGroup,\r\n  CInputGroupPrepend,\r\n  CInputGroupText,\r\n  CRow\r\n} from '@coreui/react'\r\nimport { Button, Card, CardImg,CardBody, CardGroup, Col, Container, Form, Input, InputGroup, InputGroupAddon, InputGroupText, Row, CardHeader } from 'reactstrap';\r\nimport CIcon from '@coreui/icons-react'\r\nimport logo from '../../../assets/ot.png'\r\n// import logo from \"../../../../assets/o-\"\r\nimport $ from 'jquery'\r\nimport axios from 'axios'\r\nimport  { Redirect } from 'react-router-dom'\r\nimport conf from '../../../conf.js'\r\nimport './PaiementReussi.css'\r\n\r\n// import logo from '../../../src/assets/ot.png'\r\n\r\n\r\nclass PaiementReussi extends Component {\r\n\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n       ok:''\r\n    }\r\n  \r\n  }\r\n\r\n  componentDidMount() {\r\n    let  data=  JSON.parse(localStorage.getItem('token_auth'))\r\n    \r\n    try{\r\n    var id=localStorage.getItem(\"idReservationVisiteur\")\r\n    const requestOptions = {\r\n      method: 'POST',\r\n      headers: { 'Content-Type': 'application/json','Accept': 'application/json',\r\n        'Authorization':'Bearer '+data.token,\r\n  \r\n      },\r\n      body: JSON.stringify({id:id,status:\"PAYE\"})\r\n    };\r\n    console.log(\"data envoi\",requestOptions.body)\r\n    if(id){\r\n\r\n   \r\n    fetch(conf.url+\"reservation/update/status\",requestOptions)\r\n    .then((response) => response.json())\r\n    .then((data) => {\r\n      console.log(\"data reservation paye\",data)\r\n      localStorage.removeItem('idEquipePaye');\r\n      localStorage.removeItem('idReservationVisiteur');\r\n      localStorage.removeItem('idTransactionVisiteur');\r\n      \r\n      })\r\n     }\r\n\r\n    }catch(error){\r\n\r\n    }\r\n\r\n    try{\r\n      var idTrans=localStorage.getItem(\"idTransactionVisiteur\")\r\n      const requestOptions = {\r\n        method: 'POST',\r\n        headers: { \r\n          'Authorization':'Bearer '+data.token,\r\n    \r\n        },\r\n        body: JSON.stringify({id:idTrans,status:\"PAYE\"})\r\n      };\r\n     \r\n      if(idTrans){\r\n  \r\n     \r\n      fetch(conf.url+\"transaction/update\",requestOptions)\r\n      .then((response) => response.json())\r\n      .then((data) => {\r\n        console.log(\"data transaction paye\",data)\r\n        localStorage.removeItem('idEquipePaye');\r\n        localStorage.removeItem('idReservationVisiteur');\r\n        localStorage.removeItem('idTransactionVisiteur');\r\n        \r\n        })\r\n       }\r\n  \r\n      }catch(error){\r\n  \r\n      }\r\n\r\n      try{\r\n        var idEquipe=localStorage.getItem(\"idEquipePaye\")\r\n        const requestOptions = {\r\n          method: 'POST',\r\n          headers: { \r\n            'Authorization':'Bearer '+data.token,\r\n      \r\n          },\r\n          body: JSON.stringify({id:idEquipe,paye:true})\r\n        };\r\n       \r\n        if(idEquipe){\r\n        fetch(conf.url+\"equipe/update/paye\",requestOptions)\r\n        .then((response) => response.json())\r\n        .then((data) => {\r\n          console.log(\"data equipe paye\",data)\r\n          localStorage.removeItem('idEquipePaye');\r\n          localStorage.removeItem('idReservationVisiteur');\r\n          localStorage.removeItem('idTransactionVisiteur');\r\n          \r\n          })\r\n         }\r\n    \r\n        }catch(error){\r\n    \r\n        }\r\n\r\n\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <div className=\"c-app c-default-layout flex-row align-items-center\">\r\n          <div class=\"container\">\r\n            <div class=\"row\">\r\n              <div class=\"col-md-6 mx-auto mt-5\">\r\n                <div class=\"payment\">\r\n                  <div class=\"payment_header text-center\">\r\n                    {/* <div class=\"check\">\r\n                      <i class='bx bx-check-circle'></i>\r\n                    </div> */}\r\n                    <img src={logo} alt=\"\" width=\"250\" height=\"100\"/>\r\n                  </div>\r\n                  <div class=\"content\">\r\n                    <h1>Paiement réussi !</h1>\r\n                    <p>Votre paiment a été effectué. Merci d'avoir choisi O-Terrain ! </p>\r\n                    <a href=\"/#/accueil-visiteur\">Retour à l'accueil</a>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport default PaiementReussi\r\n","\r\nconst conf = {\r\n  type_tournoi:{\r\n    TOURNOI_INTER_ECOLE: 'TOURNOI_INTER_ECOLE',\r\n    TOURNOI_INTER_ENTREPRISE: 'TOURNOI_INTER_ENTREPRISE',\r\n  },\r\n\r\n  //Lien du Backend en Production\r\n  url:\"https://o-terrain.com/\"\r\n\r\n  // url:\"http://192.168.1.110:8080/\"\r\n\r\n  //Lien du Backend en Developpement\r\n  //url:\"https://oterrain-version.herokuapp.com/\"\r\n}\r\nexport default conf \r\n","export default __webpack_public_path__ + \"static/media/ot.79b466ac.png\";"],"sourceRoot":""}