(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[81],{1453:function(e,t,a){"use strict";a.r(t);var s=a(159),l=a(160),n=a(164),c=a(162),o=a(161),i=a(1),r=a(648),d=a(807),m=a(808),h=a(717),j=a(831),u=(a(665),a(660)),p=a.n(u),b=a(686),O=a(691),x=a(647),v=a(785),f=a.n(v),g=a(706),N=a(21),C=a(2),k=function(e){Object(c.a)(a,e);var t=Object(o.a)(a);function a(e){var l;return Object(s.a)(this,a),(l=t.call(this,e)).handleAddUser=function(){JSON.parse(localStorage.getItem("token_auth"));var e={username:p()("#email").val(),nom:p()("#nom").val(),prenom:p()("#prenom").val(),email:p()("#email").val(),roles:l.state.role,adresse:p()("#adresse").val(),telephone:p()("#telephone").val(),password:p()("#password").val(),naissance:l.state.date,numeroId:p()("#numeroId").val(),typeId:l.state.document_id,monToken:" ",resetPasswordToken:" ",userDelete:!1,terrains:null,reservations:null},t=""==e.nom||""==e.prenom||""==e.email||""==e.telephone||""==e.password,a={method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(e)};p()("#password").val()!=p()("#password2").val()||""==p()("#password2").val()?(p()("#echec").css("display","block"),l.setState({message:"Confirmation mot de passe non conforme!!"})):t?(p()("#echec").css("display","block"),l.setState({message:"Veuillez renseigner les champs obligatoires!!"})):fetch(x.a.url+"user/register",a).then((function(e){return e.json()})).then((function(e){console.log("okkk====>",e),l.setState({ok:Object(C.jsx)(N.a,{to:"/login"})})}))},l.handleDate=function(e){0!=e.length&&l.setState({date:e[0]})},l.handleChangeDocument=function(e){console.log("adate =====>",e);try{l.setState({document_id:e.label})}catch(t){}},l.handleNom=function(e){console.log(e.target.value);try{e.target.value?p()("#nom").removeClass("is-invalid"):p()("#nom").addClass("is-invalid")}catch(t){p()("#nom").addClass("is-invalid")}},l.handlePrenom=function(e){console.log(e.target.value);try{e.target.value?p()("#prenom").removeClass("is-invalid"):p()("#prenom").addClass("is-invalid")}catch(t){p()("#prenom").addClass("is-invalid")}},l.handleEmail=function(e){try{e.target.value?p()("#email").removeClass("is-invalid"):p()("#email").addClass("is-invalid")}catch(t){p()("#email").addClass("is-invalid")}},l.handleTelephone=function(e){console.log(e.target.value);try{e.target.value?p()("#telephone").removeClass("is-invalid"):p()("#telephone").addClass("is-invalid")}catch(t){p()("#telephone").addClass("is-invalid")}},l.state={role:{},role_id:{},role_option:{},document:[{value:"CARTE D'IDENTE",label:"CARTE D'IDENTE"},{value:"PASSPORT",label:"PASSPORT"}],document_id:"",ok:"",date:"",message:"Confirmation mot de passe non conforme!!"},l.handleChangeDocument.bind(Object(n.a)(l)),l}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;new Headers,JSON.parse(localStorage.getItem("token_auth"));p()("#echec").css("display","none");fetch(x.a.url+"user/role/roles",{method:"GET"}).then((function(e){return e.json()})).then((function(t){console.log("okkk====>",t);try{t.length?t.map((function(t){"VISITEUR"==t.libelle&&e.setState({role:t})})):e.setState({role:{}})}catch(a){e.setState({role:{}})}}))}},{key:"render",value:function(){var e=this.state.pick,t=Object(O.a)();return Object(C.jsx)("div",{className:"c-app c-default-layout flex-row align-items-center mt-4",children:Object(C.jsx)(r.h,{children:Object(C.jsx)(r.v,{className:"justify-content-center",children:Object(C.jsx)(r.g,{md:"12",lg:"10",xl:"9",children:Object(C.jsx)(r.e,{className:"mx-4",children:Object(C.jsx)(r.f,{className:"p-4",children:Object(C.jsxs)(r.o,{children:[Object(C.jsx)("h1",{children:"Inscrivez-vous"}),this.state.ok,Object(C.jsxs)(d.a,{children:[Object(C.jsxs)(m.a,{md:"6",children:[Object(C.jsx)("small",{children:"Nom"}),Object(C.jsx)(h.a,{className:"form-control is-invalid",type:"text",id:"nom",placeholder:"Nom",onChange:this.handleNom})]}),Object(C.jsxs)(m.a,{md:"6",children:[Object(C.jsx)("small",{children:"Pr\xe9nom (s)"}),Object(C.jsx)(h.a,{className:"form-control is-invalid",type:"text",id:"prenom",onChange:this.handlePrenom,placeholder:"Pr\xe9nom (s)"})]})]}),Object(C.jsxs)(d.a,{className:"mt-4",children:[Object(C.jsxs)(m.a,{md:"6",children:[Object(C.jsx)("small",{children:"Adresse"}),Object(C.jsx)(h.a,{className:"form-control",type:"text",id:"adresse",placeholder:"Adresse"})]}),Object(C.jsxs)(m.a,{md:"6",children:[Object(C.jsx)("small",{children:"Email"}),Object(C.jsx)(h.a,{className:"form-control is-invalid",type:"text",id:"email",onChange:this.handleEmail,placeholder:"Email"})]})]}),Object(C.jsxs)(d.a,{className:"mt-4",children:[Object(C.jsxs)(m.a,{md:"6",children:[Object(C.jsx)("small",{children:"Num\xe9ro de t\xe9l\xe9phone"}),Object(C.jsx)(h.a,{className:"form-control is-invalid",onChange:this.handleTelephone,type:"text",id:"telephone",placeholder:"Num\xe9ro de t\xe9l\xe9phone"})]}),Object(C.jsxs)(m.a,{md:"6",children:[Object(C.jsx)("small",{children:"Date de naissance"}),Object(C.jsxs)("div",{className:"docs-datepicker",children:[Object(C.jsxs)(j.a,{children:[Object(C.jsx)(f.a,{value:e,className:"form-control d-block",placeholder:"Choisissez la date de naissance",options:{locale:g.French,altInput:!0,altFormat:"d/M/Y"},onChange:this.handleDate}),Object(C.jsx)("div",{className:"input-group-append",children:Object(C.jsx)("button",{type:"button",className:"btn btn-outline-secondary docs-datepicker-trigger",disabled:!0,children:Object(C.jsx)("i",{className:"fa fa-calendar","aria-hidden":"true"})})})]}),Object(C.jsx)("div",{className:"docs-datepicker-container"})]})]})]}),Object(C.jsxs)(d.a,{className:"mt-4 mb-3",children:[Object(C.jsxs)(m.a,{md:"6",children:[Object(C.jsx)("small",{children:"Type de document d'identit\xe9"}),Object(C.jsx)(b.a,{closeMenuOnSelect:!0,components:t,onChange:this.handleChangeDocument,options:this.state.document,placeholder:"Choisir le document"})]}),Object(C.jsxs)(m.a,{md:"6",children:[Object(C.jsx)("small",{children:"Num\xe9ro d'identit\xe9"}),Object(C.jsx)(h.a,{className:"form-control",type:"text",id:"numeroId",placeholder:"Num\xe9ro d'identit\xe9"})]})]}),Object(C.jsxs)("div",{class:"form-check",children:[Object(C.jsx)("input",{class:"form-check-input",required:!0,type:"checkbox",value:"",id:"flexCheckDefault"}),Object(C.jsxs)("label",{class:"form-check-label",for:"flexCheckDefault",children:["J'accepte les ",Object(C.jsx)("a",{href:"/#/cgu",children:Object(C.jsx)("u",{children:"Conditions d'utilisation de O-Terrain "})}),"."]})]}),Object(C.jsx)(d.a,{className:"mt-4",children:Object(C.jsx)(m.a,{md:"12",children:Object(C.jsx)("div",{style:{textAlign:"center"},id:"echec",class:"alert alert-danger",role:"alert",children:this.state.message})})}),Object(C.jsx)(r.d,{color:"success",onClick:this.handleAddUser,block:!0,children:"Cr\xe9er mon compte"})]})})})})})})})}}]),a}(i.Component);t.default=k},647:function(e,t,a){"use strict";t.a={type_tournoi:{TOURNOI_INTER_ECOLE:"TOURNOI_INTER_ECOLE",TOURNOI_INTER_ENTREPRISE:"TOURNOI_INTER_ENTREPRISE"},url:"https://o-terrain.com/"}}}]);
//# sourceMappingURL=81.77b7ce25.chunk.js.map