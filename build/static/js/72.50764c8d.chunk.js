(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[72],{1441:function(e,t,a){"use strict";var s=a(11),r=a(26),n=a(1),c=a.n(n),i=a(107),o=a.n(i),l=a(157),d=a.n(l),b=a(646),u={tag:b.n,className:o.a.string,cssModule:o.a.object},j=function(e){var t=e.className,a=e.cssModule,n=e.tag,i=Object(r.a)(e,["className","cssModule","tag"]),o=Object(b.j)(d()(t,"card-title"),a);return c.a.createElement(n,Object(s.a)({},i,{className:o}))};j.propTypes=u,j.defaultProps={tag:"div"},t.a=j},651:function(e,t,a){"use strict";t.a={type_tournoi:{TOURNOI_INTER_ECOLE:"TOURNOI_INTER_ECOLE",TOURNOI_INTER_ENTREPRISE:"TOURNOI_INTER_ENTREPRISE"},url:"http://o-terrain.com/"}},769:function(e,t,a){"use strict";var s=a(11),r=a(26),n=a(1),c=a.n(n),i=a(107),o=a.n(i),l=a(157),d=a.n(l),b=a(646),u={tag:b.n,inverse:o.a.bool,color:o.a.string,body:o.a.bool,outline:o.a.bool,className:o.a.string,cssModule:o.a.object,innerRef:o.a.oneOfType([o.a.object,o.a.string,o.a.func])},j=function(e){var t=e.className,a=e.cssModule,n=e.color,i=e.body,o=e.inverse,l=e.outline,u=e.tag,j=e.innerRef,h=Object(r.a)(e,["className","cssModule","color","body","inverse","outline","tag","innerRef"]),m=Object(b.j)(d()(t,"card",!!o&&"text-white",!!i&&"card-body",!!n&&(l?"border":"bg")+"-"+n),a);return c.a.createElement(u,Object(s.a)({},h,{className:m,ref:j}))};j.propTypes=u,j.defaultProps={tag:"div"},t.a=j},770:function(e,t,a){"use strict";var s=a(11),r=a(26),n=a(1),c=a.n(n),i=a(107),o=a.n(i),l=a(157),d=a.n(l),b=a(646),u={tag:b.n,className:o.a.string,cssModule:o.a.object,innerRef:o.a.oneOfType([o.a.object,o.a.string,o.a.func])},j=function(e){var t=e.className,a=e.cssModule,n=e.innerRef,i=e.tag,o=Object(r.a)(e,["className","cssModule","innerRef","tag"]),l=Object(b.j)(d()(t,"card-body"),a);return c.a.createElement(i,Object(s.a)({},o,{className:l,ref:n}))};j.propTypes=u,j.defaultProps={tag:"div"},t.a=j},860:function(e,t,a){"use strict";a.r(t);var s=a(159),r=a(160),n=a(165),c=a(162),i=a(161),o=a(1),l=a.n(o),d=(a(1103),a(21)),b=a(920),u=a(802),j=a(828),h=a(829),m=a(769),f=a(770),g=a(839),p=a(1441),O=a(651),x=a(981),N=a(2),v=function(e){Object(c.a)(a,e);var t=Object(i.a)(a);function a(e){var r;return Object(s.a)(this,a),(r=t.call(this,e)).handleSupprimer=function(){var e={method:"GET",headers:{Authorization:"Bearer "+JSON.parse(localStorage.getItem("token_auth")).token}};fetch(O.a.url+"terrain/terrains/delete/"+r.state.id,e).then((function(e){console.log("enregitre avec succes vrai:",e),console.log("data send",e),r.setState({terrains:r.state.terrains.filter((function(e){return e.id!=r.state.id}))}),r.setState({show:!1})}))},r.handleDetail=function(e){localStorage.setItem("idTerrain",e),r.setState({ok:Object(N.jsx)(d.a,{to:"/detail-terrain"})})},r.handleIndisponibilite=function(e){localStorage.setItem("idTerrain",e),r.setState({ok:Object(N.jsx)(d.a,{to:"/indisponibilite"})})},r.toggled=function(){r.setState({show:!r.state.show})},r.supprimer=function(e){r.setState({id:e,show:!0})},r.handleModifier=function(e){localStorage.setItem("idTerrain",e),r.setState({ok:Object(N.jsx)(d.a,{to:"/modifier-terrain"})})},r.state={terrainData:[],terrains:[],ok:"",show:!1,page:Object(N.jsx)("div",{style:{marginTop:"25%",marginBottom:"20%",textAlign:"center"},children:Object(N.jsx)(b.a,{type:"grow",color:"success"})}),id:0,status:!0},r.handleDetail.bind(Object(n.a)(r)),r.supprimer.bind(Object(n.a)(r)),r.handleModifier.bind(Object(n.a)(r)),r.handleIndisponibilite.bind(Object(n.a)(r)),r}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=JSON.parse(localStorage.getItem("token_auth")),a=t.user,s=t.role,r={method:"GET",headers:{Authorization:"Bearer "+t.token}};fetch(O.a.url+"terrain/terrains",r).then((function(e){return e.json()})).then((function(t){console.log("data",t),e.setState({status:!1});try{t.length?"ADMIN"!=s?e.setState({terrainData:t.filter((function(e){return e.idUser==a.id}))}):e.setState({terrainData:t}):e.setState({terrainData:[]})}catch(r){e.setState({terrainData:[]})}}))}},{key:"render",value:function(){var e=this;this.state.terrains;return Object(N.jsx)(l.a.Fragment,{children:Object(N.jsxs)("div",{className:"page-content",children:[this.state.ok,Object(N.jsx)(u.a,{fluid:!0,children:this.state.status?Object(N.jsx)(N.Fragment,{children:this.state.page}):Object(N.jsx)(j.a,{children:Object(N.jsx)(h.a,{md:"12",className:"pull-right",children:Object(N.jsx)(m.a,{children:Object(N.jsxs)(f.a,{children:[Object(N.jsxs)(j.a,{ClassName:"mb-4",children:[Object(N.jsx)(h.a,{lg:"6",md:"6",sm:"12",className:"mb-2",children:Object(N.jsx)("div",{className:"page-title-box d-flex align-items-center justify-content-between",children:Object(N.jsx)("h3",{className:"mb-0 font-size-18",children:"Liste des terrains"})})}),Object(N.jsx)(h.a,{lg:"6",md:"6",sm:"12",className:"pull-right",children:Object(N.jsxs)(g.a,{color:"success",className:"font-16 btn btn-success float-right",href:"/#/ajout-terrain",children:[Object(N.jsx)("i",{class:"bx bx-plus-circle",children:" "}),"  Ajouter un nouveau terrain"]})})]}),Object(N.jsx)(x.a,{show:this.state.show,handleValider:this.handleSupprimer,toggle:this.toggled}),Object(N.jsx)("hr",{}),Object(N.jsx)(j.a,{ClassName:"mt-5",children:this.state.terrainData.map((function(t,a){return Object(N.jsx)(h.a,{lg:"6",md:"6",sm:"12",className:"mt-2",children:Object(N.jsx)(m.a,{className:"block",id:"block",style:{borderRadius:"25px",borderColor:"#4f8f3f",borderWidth:"5px",backgroundColor:"#FFFFF"},children:Object(N.jsxs)(f.a,{children:[Object(N.jsx)(p.a,{className:"h4 mb-3",children:Object(N.jsx)("h3",{children:Object(N.jsx)("span",{style:{backgroundColor:"#6A7172"},class:"badge rounded-pill ",children:t.nom})})}),"Adresse: ",t.adresse,Object(N.jsx)("br",{}),"Ville: ",t.ville,Object(N.jsx)("br",{}),"Type de terrain: ",t.statusTerrain,Object(N.jsx)("br",{}),Object(N.jsxs)("div",{className:"mt-3",children:[Object(N.jsx)("button",{onClick:e.supprimer.bind(e,t.id),type:"button",style:{backgroundColor:"#4f8f3f",float:"right",cursor:"pointer",borderRadius:"25px"},className:"btn btn-info btn-elegant mr-2",children:Object(N.jsx)("i",{className:"fas fa-trash mr-1"})}),Object(N.jsx)("button",{onClick:e.handleIndisponibilite.bind(e,t.id),type:"button",style:{backgroundColor:"#4f8f3f",float:"right",cursor:"pointer",borderRadius:"25px"},className:"btn btn-info btn-elegant mr-2",children:Object(N.jsx)("i",{className:"bx bx-time-five bx-xs mr-1"})}),Object(N.jsx)("button",{onClick:e.handleDetail.bind(e,t.id),type:"button",style:{backgroundColor:"#4f8f3f",float:"right",cursor:"pointer",borderRadius:"25px"},className:"btn btn-info btn-elegant mr-2",children:Object(N.jsx)("i",{className:"fas fa-info-circle mr-1"})}),Object(N.jsx)("button",{onClick:e.handleModifier.bind(e,t.id),type:"button",style:{backgroundColor:"#4f8f3f",float:"right",cursor:"pointer",borderRadius:"25px"},className:"btn btn-info btn-elegant mr-2",children:Object(N.jsx)("i",{className:"fas fa-pencil-alt mr-1"})})]})]})})})}))})]})})})})})]})})}}]),a}(o.Component);t.default=v},920:function(e,t,a){"use strict";var s=a(11),r=a(26),n=a(1),c=a.n(n),i=a(107),o=a.n(i),l=a(157),d=a.n(l),b=a(646),u={tag:b.n,type:o.a.string,size:o.a.string,color:o.a.string,className:o.a.string,cssModule:o.a.object,children:o.a.string},j=function(e){var t=e.className,a=e.cssModule,n=e.type,i=e.size,o=e.color,l=e.children,u=e.tag,j=Object(r.a)(e,["className","cssModule","type","size","color","children","tag"]),h=Object(b.j)(d()(t,!!i&&"spinner-"+n+"-"+i,"spinner-"+n,!!o&&"text-"+o),a);return c.a.createElement(u,Object(s.a)({role:"status"},j,{className:h}),l&&c.a.createElement("span",{className:Object(b.j)("sr-only",a)},l))};j.propTypes=u,j.defaultProps={tag:"div",type:"border",children:"Loading..."},t.a=j},981:function(e,t,a){"use strict";var s=a(804),r=a(1437),n=a(11),c=a(26),i=a(1),o=a.n(i),l=a(107),d=a.n(l),b=a(157),u=a.n(b),j=a(646),h={tag:j.n,className:d.a.string,cssModule:d.a.object},m=function(e){var t=e.className,a=e.cssModule,s=e.tag,r=Object(c.a)(e,["className","cssModule","tag"]),i=Object(j.j)(u()(t,"modal-footer"),a);return o.a.createElement(s,Object(n.a)({},r,{className:i}))};m.propTypes=h,m.defaultProps={tag:"div"};var f=m,g=a(839),p=(a(653),a(2));t.a=function(e){var t=e.handleValider,a=e.show,n=e.toggle;return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)(s.a,{isOpen:a,toggle:n,children:[Object(p.jsx)(r.a,{style:{textAlign:"center"},children:Object(p.jsx)("h4",{children:"Voulez-vous vraiment Supprimer ?"})}),Object(p.jsxs)(f,{children:[Object(p.jsx)(g.a,{color:"danger",onClick:t,children:"Supprimer"})," ",Object(p.jsx)(g.a,{color:"secondary",onClick:n,children:"Annuler"})]})]})})}}}]);
//# sourceMappingURL=72.50764c8d.chunk.js.map